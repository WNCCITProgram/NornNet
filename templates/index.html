{% extends 'base.html' %}

{% block title %}NornNet - Home{% endblock %}

{% block content %}
<!-- Page container -->
<div class="card nornnet-container">
  <h1>NornNet</h1>
  <p>Welcome to NornNet - Where the Fates Weave Destiny with a Touch of AI Magic</p>

  <!-- Chat Interface -->
  <div id="chatbox"></div>

  <!-- VERSION LABEL -->
  <div class="version-label">Current Version 2.0</div>

  {%- if turnstile_enabled %}
  <!-- Cloudflare Turnstile widget (AJAX flow uses callback to capture token) -->
  <div id="turnstile-container">
    <div class="cf-turnstile" data-sitekey="{{ turnstile_site_key }}" data-callback="onTurnstileSuccess"></div>
  </div>
  {%- endif %}

  <!-- User Input and Button -->
  <div class="input-container">
    <input type="text" id="user_input" placeholder="Ask something..."
      onkeydown="if(event.key === 'Enter') sendMessage()">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<!-- Chat JavaScript -->
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>

{% endblock %}